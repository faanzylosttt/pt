<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Super Media Host Hub - 18 Providers</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f8fafc;
      --card: #ffffff;
      --text: #1e293b;
      --border: #e2e8f0;
      --primary: #3b82f6;
      --success: #10b981;
      --warning: #f59e0b;
      --error: #ef4444;
    }
    body.dark {
      --bg: #0f172a;
      --card: #1e293b;
      --text: #f1f5f9;
      --border: #334155;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      transition: all 0.3s ease;
    }
    .header {
      background: var(--card);
      padding: 1rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .main-container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    .upload-zone {
      background: var(--card);
      border: 2px dashed var(--border);
      border-radius: 12px;
      padding: 3rem;
      text-align: center;
      transition: all 0.3s ease;
      position: relative;
    }
    .upload-zone:hover, .upload-zone.dragover {
      border-color: var(--primary);
      background: rgba(59, 130, 246, 0.05);
    }
    .provider-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1rem;
      margin-top: 2rem;
    }
    .provider-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1.5rem;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .provider-card:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .provider-card.selected {
      border-color: var(--primary);
      background: rgba(59, 130, 246, 0.1);
    }
    .provider-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    .custom-link-input {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 0.75rem;
      margin-top: 0.5rem;
      width: 100%;
    }
    .btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s ease;
    }
    .btn:hover {
      background: #2563eb;
    }
    .btn:disabled {
      background: #94a3b8;
      cursor: not-allowed;
    }
    .progress-bar {
      width: 100%;
      height: 4px;
      background: var(--border);
      border-radius: 2px;
      overflow: hidden;
      margin: 1rem 0;
    }
    .progress-fill {
      height: 100%;
      background: var(--primary);
      transition: width 0.3s ease;
    }
    .result-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1.5rem;
      margin-top: 1rem;
    }
    .copy-btn {
      background: var(--success);
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      margin-left: 0.5rem;
    }
    .preview-img {
      max-width: 200px;
      max-height: 200px;
      border-radius: 8px;
      margin-top: 1rem;
    }
    .drag-drop-text {
      font-size: 1.125rem;
      color: var(--text-secondary);
      margin: 1rem 0;
    }
    .drop-icon {
      font-size: 3rem;
      color: var(--primary);
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <header class="header">
    <h1><i class="fas fa-cloud-upload-alt"></i> Super Media Host Hub</h1>
    <button id="themeToggle" class="btn"><i class="fas fa-moon"></i></button>
  </header>

  <div class="main-container">
    <div class="upload-zone" id="uploadZone">
      <i class="fas fa-cloud-upload-alt drop-icon"></i>
      <div class="drag-drop-text">
        Drag & drop file atau <strong>klik untuk memilih</strong>
      </div>
      <input type="file" id="fileInput" style="display:none" accept="*/*">
    </div>

    <div class="provider-grid" id="providerGrid">
      <!-- Hosts akan diisi oleh JavaScript -->
    </div>

    <div class="result-card hidden" id="resultSection">
      <h3><i class="fas fa-check-circle"></i> Upload Berhasil!</h3>
      <div id="resultContent"></div>
    </div>
  </div>

<script>
const hosts = [
  { id: 'catbox', name: 'Catbox', icon: 'fas fa-box', custom: false, unlimited: true },
  { id: 'litterbox', name: 'Litterbox', icon: 'fas fa-trash-alt', custom: false, unlimited: false },
  { id: 'pixeldrain', name: 'PixelDrain', icon: 'fas fa-tint', custom: true, unlimited: true },
  { id: 'transfer', name: 'Transfer.sh', icon: 'fas fa-exchange-alt', custom: true, unlimited: false },
  { id: '0x0', name: '0x0.st', icon: 'fas fa-infinity', custom: false, unlimited: true },
  { id: 'fileio', name: 'File.io', icon: 'fas fa-file-export', custom: false, unlimited: false },
  { id: 'tmpfiles', name: 'TmpFiles', icon: 'fas fa-clock', custom: false, unlimited: false },
  { id: 'oshi', name: 'Oshi.at', icon: 'fas fa-share-alt', custom: true, unlimited: true },
  { id: 'gofile', name: 'GoFile', icon: 'fas fa-globe', custom: false, unlimited: true },
  { id: 'bayfiles', name: 'BayFiles', icon: 'fas fa-water', custom: true, unlimited: true },
  { id: 'anonfiles', name: 'AnonFiles', icon: 'fas fa-user-secret', custom: true, unlimited: true },
  { id: 'filechan', name: 'FileChan', icon: 'fas fa-comments', custom: true, unlimited: true },
  { id: 'vshare', name: 'VShare.io', icon: 'fas fa-video', custom: true, unlimited: true },
  { id: 'zippyshare', name: 'ZippyShare', icon: 'fas fa-bolt', custom: true, unlimited: false },
  { id: 'mediafire', name: 'MediaFire', icon: 'fas fa-fire', custom: true, unlimited: true },
  { id: 'dropbox', name: 'Dropbox Direct', icon: 'fab fa-dropbox', custom: true, unlimited: false },
  { id: 'onedrive', name: 'OneDrive Direct', icon: 'fab fa-microsoft', custom: true, unlimited: false },
  { id: 'google', name: 'Google Drive Direct', icon: 'fab fa-google-drive', custom: true, unlimited: false }
];

let selectedHost = 'catbox';
let uploadedFile = null;

// Theme toggle
document.getElementById('themeToggle').addEventListener('click', () => {
  document.body.classList.toggle('dark');
});

// Provider grid
function renderProviders() {
  const grid = document.getElementById('providerGrid');
  grid.innerHTML = hosts.map(host => `
    <div class="provider-card ${host.id === selectedHost ? 'selected' : ''}" data-id="${host.id}">
      <div class="provider-icon"><i class="${host.icon}"></i></div>
      <h4>${host.name}</h4>
      <small>${host.unlimited ? 'Unlimited' : 'Temporary'}</small>
      ${host.custom ? '<small><i class="fas fa-edit"></i> Custom name</small>' : ''}
    </div>
  `).join('');

  document.querySelectorAll('.provider-card').forEach(card => {
    card.addEventListener('click', () => {
      selectedHost = card.dataset.id;
      document.querySelectorAll('.provider-card').forEach(c => c.classList.remove('selected'));
      card.classList.add('selected');
    });
  });
}

// Drag & drop
const uploadZone = document.getElementById('uploadZone');
const fileInput = document.getElementById('fileInput');

['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
  uploadZone.addEventListener(eventName, preventDefaults, false);
});

['dragenter', 'dragover'].forEach(eventName => {
  uploadZone.addEventListener(eventName, highlight, false);
});

['dragleave', 'drop'].forEach(eventName => {
  uploadZone.addEventListener(eventName, unhighlight, false);
});

function preventDefaults(e) {
  e.preventDefault();
  e.stopPropagation();
}

function highlight() {
  uploadZone.classList.add('dragover');
}

function unhighlight() {
  uploadZone.classList.remove('dragover');
}

uploadZone.addEventListener('drop', handleDrop);
fileInput.addEventListener('change', handleFiles);

function handleDrop(e) {
  const files = e.dataTransfer.files;
  if (files.length) handleFiles({ target: { files } });
}

function handleFiles(e) {
  uploadedFile = e.target.files[0];
  if (uploadedFile) {
    uploadFile(uploadedFile);
  }
}

uploadZone.addEventListener('click', () => fileInput.click());

async function uploadFile(file) {
  const btn = document.createElement('button');
  btn.className = 'btn';
  btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Uploading...';
  btn.disabled = true;
  
  try {
    let resultUrl;
    switch(selectedHost) {
      case 'catbox':
        resultUrl = await uploadToCatbox(file);
        break;
      case 'litterbox':
        resultUrl = await uploadToLitterbox(file);
        break;
      case 'pixeldrain':
        resultUrl = await uploadToPixeldrain(file);
        break;
      case 'transfer':
        resultUrl = await uploadToTransfer(file);
        break;
      case '0x0':
        resultUrl = await uploadTo0x0(file);
        break;
      case 'fileio':
        resultUrl = await uploadToFileio(file);
        break;
      case 'tmpfiles':
        resultUrl = await uploadToTmpfiles(file);
        break;
      case 'oshi':
        resultUrl = await uploadToOshi(file);
        break;
      case 'gofile':
        resultUrl = await uploadToGofile(file);
        break;
      default:
        throw new Error('Host not implemented yet');
    }
    
    showResult(resultUrl);
  } catch (error) {
    alert('Upload failed: ' + error.message);
  }
}

// Upload functions (fixed)
async function uploadToCatbox(file) {
  const form = new FormData();
  form.append('reqtype', 'fileupload');
  form.append('userhash', '');
  form.append('fileToUpload', file);
  const res = await fetch('https://catbox.moe/user/api.php', { method: 'POST', body: form });
  if (!res.ok) throw new Error('Catbox upload failed');
  return await res.text();
}

async function uploadToLitterbox(file) {
  const form = new FormData();
  form.append('reqtype', 'fileupload');
  form.append('time', '24h');
  form.append('userhash', '');
  form.append('fileToUpload', file);
  const res = await fetch('https://litterbox.catbox.moe/resources/internals/api.php', { method: 'POST', body: form });
  if (!res.ok) throw new Error('Litterbox upload failed');
  return await res.text();
}

async function uploadToPixeldrain(file) {
  const form = new FormData();
  const filename = prompt('Masukkan nama file (opsional):') || file.name;
  form.append('file', file, filename);
  const res = await fetch('https://pixeldrain.com/api/file', { method: 'POST', body: form });
  const { id } = await res.json();
  return `https://pixeldrain.com/u/${id}`;
}

async function uploadToTransfer(file) {
  const filename = prompt('Masukkan nama file (opsional):') || file.name;
  const res = await fetch(`https://transfer.sh/${encodeURIComponent(filename)}`, { method: 'PUT', body: file });
  return await res.text();
}

async function uploadTo0x0(file) {
  const form = new FormData();
  form.append('file', file);
  const res = await fetch('https://0x0.st', { method: 'POST', body: form });
  return await res.text();
}

async function uploadToFileio(file) {
  const res = await fetch('https://file.io/?expires=1w', { method: 'POST', body: file });
  const data = await res.json();
  return data.link;
}

async function uploadToTmpfiles(file) {
  const form = new FormData();
  form.append('file', file);
  const res = await fetch('https://tmpfiles.org/api/v1/upload', { method: 'POST', body: form });
  const { data } = await res.json();
  return data.url;
}

async function uploadToOshi(file) {
  const filename = prompt('Masukkan nama file (opsional):') || file.name;
  const form = new FormData();
  form.append('file', file, filename);
  const res = await fetch('https://oshi.at', { method: 'POST', body: form });
  const text = await res.text();
  return text.split('\n')[0].split(' ')[1];
}

async function uploadToGofile(file) {
  const serverRes = await fetch('https://api.gofile.io/getServer');
  const { data: { server } } = await serverRes.json();
  const form = new FormData();
  form.append('file', file);
  const res = await fetch(`https://${server}.gofile.io/uploadFile`, { method: 'POST', body: form });
  const { data } = await res.json();
  return data.downloadPage;
}

function showResult(url) {
  const resultSection = document.getElementById('resultSection');
  const resultContent = document.getElementById('resultContent');
  
  resultContent.innerHTML = `
    <p><strong>Link:</strong> <a href="${url}" target="_blank">${url}</a>
    <button class="copy-btn" onclick="navigator.clipboard.writeText('${url}')">
      <i class="fas fa-copy"></i> Copy
    </button></p>
    ${uploadedFile.type.startsWith('image/') ? `<img class="preview-img" src="${url}" alt="Preview">` : ''}
  `;
  resultSection.classList.remove('hidden');
}

renderProviders();
</script>
</body>
</html>
